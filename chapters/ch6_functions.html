<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    
    <title>6. Functions &#8212; Programming with Python for Engineers 1.0 documentation</title>

    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/d2l.css" />
    <link rel="stylesheet" href="../_static/material-design-lite-1.3.0/material.blue-deep_orange.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx_materialdesign_theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fontawesome/all.css" type="text/css" />
    <link rel="stylesheet" href="../_static/fonts.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/d2l.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="shortcut icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7. A Gentle Introduction to Object-Oriented Programming" href="ch7_OOP.html" />
    <link rel="prev" title="5. Conditional and Repetitive Execution" href="ch5_conditional_and_repetitive.html" /> 
  </head>
<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header mdl-layout--fixed-drawer"><header class="mdl-layout__header mdl-layout__header--waterfall ">
    <div class="mdl-layout__header-row">
        
        <nav class="mdl-navigation breadcrumb">
            <a class="mdl-navigation__link is-active"><span class="section-number">6. </span>Functions</a>
        </nav>
        <div class="mdl-layout-spacer"></div>
        <nav class="mdl-navigation">
        
<form class="form-inline pull-sm-right" action="../search.html" method="get">
      <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right">
        <label id="quick-search-icon" class="mdl-button mdl-js-button mdl-button--icon"  for="waterfall-exp">
          <i class="material-icons">search</i>
        </label>
        <div class="mdl-textfield__expandable-holder">
          <input class="mdl-textfield__input" type="text" name="q"  id="waterfall-exp" placeholder="Search" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </div>
      </div>
      <div class="mdl-tooltip" data-mdl-for="quick-search-icon">
      Quick search
      </div>
</form>
        
<a id="button-show-source"
    class="mdl-button mdl-js-button mdl-button--icon"
    href="../_sources/chapters/ch6_functions.rst.txt" rel="nofollow">
  <i class="material-icons">code</i>
</a>
<div class="mdl-tooltip" data-mdl-for="button-show-source">
Show Source
</div>
        </nav>
    </div>
    <div class="mdl-layout__header-row header-links">
      <div class="mdl-layout-spacer"></div>
      <nav class="mdl-navigation">
          
              <a  class="mdl-navigation__link" href="https://pp4e-book.github.io/pp4e-book.pdf">
                  <i class="fas fa-file-pdf"></i>
                  PDF
              </a>
          
              <a  class="mdl-navigation__link" href="https://github.com/pp4e-book/source">
                  <i class="fab fa-github"></i>
                  Github
              </a>
          
              <a  class="mdl-navigation__link" href="https://pp4e-book.github.io/chapters/all_notebooks.zip">
                  <i class="fas fa-download"></i>
                  All Notebooks
              </a>
          
              <a  class="mdl-navigation__link" href="https://ceng240.github.io/">
                  <i class="fas fa-user-graduate"></i>
                  Course
              </a>
      </nav>
    </div>
</header><header class="mdl-layout__drawer">
    
          <!-- Title -->
      <span class="mdl-layout-title">
          <a class="title" href="../index.html">
              <img class="logo" src="../_static/logo-with-text.png" alt="Programming with Python for Engineers"/>
          </a>
      </span>
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="ch0_preface.html">Preface</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ch1_computer_organization.html">1. Basic Computer Organization</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch2_programming.html">2. A Broad Look at Programming and Programming Languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch3_data_representation.html">3. Representation of Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch4_dive_into_python.html">4. Dive into Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch5_conditional_and_repetitive.html">5. Conditional and Repetitive Execution</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">6. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch7_OOP.html">7. A Gentle Introduction to Object-Oriented Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch8_file_handling.html">8. File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch9_error_handling.html">9. Error Handling and Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch10_scientific_libraries.html">10. Scientific and Engineering Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch11_application_optimization.html">11. An Application: Approximation and Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch12_regression.html">12. An Application: Solving a Simple Regression Problem</a></li>
</ul>

            </nav>
        
        </div>
    
</header>
        <main class="mdl-layout__content" tabIndex="0">

	<script type="text/javascript" src="../_static/sphinx_materialdesign_theme.js "></script>
    <header class="mdl-layout__drawer">
    
          <!-- Title -->
      <span class="mdl-layout-title">
          <a class="title" href="../index.html">
              <img class="logo" src="../_static/logo-with-text.png" alt="Programming with Python for Engineers"/>
          </a>
      </span>
    
    
      <div class="globaltoc">
        <span class="mdl-layout-title toc">Table Of Contents</span>
        
        
            
            <nav class="mdl-navigation">
                <ul>
<li class="toctree-l1"><a class="reference internal" href="ch0_preface.html">Preface</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ch1_computer_organization.html">1. Basic Computer Organization</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch2_programming.html">2. A Broad Look at Programming and Programming Languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch3_data_representation.html">3. Representation of Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch4_dive_into_python.html">4. Dive into Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch5_conditional_and_repetitive.html">5. Conditional and Repetitive Execution</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">6. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch7_OOP.html">7. A Gentle Introduction to Object-Oriented Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch8_file_handling.html">8. File Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch9_error_handling.html">9. Error Handling and Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch10_scientific_libraries.html">10. Scientific and Engineering Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch11_application_optimization.html">11. An Application: Approximation and Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="ch12_regression.html">12. An Application: Solving a Simple Regression Problem</a></li>
</ul>

            </nav>
        
        </div>
    
</header>

    <div class="document">
        <div class="page-content" role="main">
        
  <div class="section" id="functions">
<h1><span class="section-number">6. </span>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a><a href="https://colab.research.google.com/github/pp4e-book/pp4e-book.github.io/blob/master/chapters/ch6_functions.ipynb" onclick="captureOutboundLink('https://colab.research.google.com/github/['pp4e-book/pp4e-book.github.io']/blob/master/chapters/ch6_functions.ipynb'); return false;"> <button style="float:right", id="Colab" class="mdl-button mdl-js-button mdl-button--primary mdl-js-ripple-effect"> <i class=" fas fa-external-link-alt"></i> Colab </button></a><div class="mdl-tooltip" data-mdl-for="Colab"> Open the notebook in Colab</div></h1>
<p><em>(C) Copyright Notice: This chapter is part of the book available
at</em><a class="reference external" href="https://pp4e-book.github.io/">https://pp4e-book.github.io/</a><em>and copying, distributing, modifying
it requires explicit permission from the authors. See the book page for
details:</em><a class="reference external" href="https://pp4e-book.github.io/">https://pp4e-book.github.io/</a></p>
<p>A <em>function</em> (or sometimes synonymously referred to as subroutine,
procedure or sub-program) is a grouping of actions under a given name
that performs a specific task. <code class="docutils literal notranslate"><span class="pre">len()</span></code>, <code class="docutils literal notranslate"><span class="pre">print()</span></code>, <code class="docutils literal notranslate"><span class="pre">abs()</span></code>,
<code class="docutils literal notranslate"><span class="pre">type()</span></code> are functions that we have seen before. Python adopts a
syntax that resembles mathematical functions.</p>
<p>A function, i.e. ‘named’ pieces of code, can receive parameters. These
parameters are variables that carry information from the “calling point”
(e.g. when you write <code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">=</span> <span class="pre">len(&quot;The</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">chars&quot;)</span></code>) to the callee,
i.e. the piece of code that <em>defined</em> the function (<code class="docutils literal notranslate"><span class="pre">len()</span></code> in our
example). The life span of these variables (parameters) is as long as
the function is active (for that call).</p>
<div class="section" id="why-define-functions">
<h2><span class="section-number">6.1. </span>Why define functions?<a class="headerlink" href="#why-define-functions" title="Permalink to this headline">¶</a></h2>
<p>There are four main reasons for using functions while developing
solutions with a programming language:</p>
<p>1- <strong>Reusability</strong></p>
<p>A function is defined at a single point in a program but it can be
called from several different points. Assume you need to calculate the
run-length encoding of a string (the example code from the previous
chapter) in your program for <span class="math notranslate nohighlight">\(n\)</span> different strings in different
positions of your code. In a programming language without functions, you
would have to copy-paste that code piece in <span class="math notranslate nohighlight">\(n\)</span> different places.
Thanks to functions, we can place the code piece in a function once
(named <code class="docutils literal notranslate"><span class="pre">encodeRunLen</span></code> for example) and use it in <span class="math notranslate nohighlight">\(n\)</span> places via
simple function calls like <code class="docutils literal notranslate"><span class="pre">enc</span> <span class="pre">=</span> <span class="pre">encodeRunLen(inpstr)</span></code>.</p>
<p>If functions would not be present, even if we would have the piece of
code that does the actions of the function, how would we return to the
different calling points after the actions are completed? Something,
that is theoretically possible but extremely painful.</p>
<p>2- <strong>Maintenance</strong></p>
<p>Using functions makes it easier to make updates to the algorithm. Let us
explain this with the run-length encoding example: Assume that we found
a bug in our calculation or we have discovered a better algorithm than
the one we are using. Without functions, you would need to go through
all your code, find the locations where your run-length encoding
algorithm is implemented, and update each and every one of them. This is
impractical and very tedious. With functions, it is sufficient if you
just change the function that implements the run-length encoding.</p>
<p>3- <strong>Structuredness</strong></p>
<p>Let us have a look at a perfectly valid Python expression:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">b</span> <span class="k">if</span> <span class="n">b</span><span class="o">&lt;</span><span class="n">c</span> <span class="k">else</span> <span class="n">c</span><span class="p">)</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="k">if</span> <span class="n">a</span><span class="o">&lt;</span><span class="n">b</span> <span class="k">else</span> <span class="n">b</span><span class="p">)</span><span class="o">&lt;</span><span class="p">(</span><span class="n">b</span> <span class="k">if</span> <span class="n">b</span><span class="o">&lt;</span><span class="n">c</span> <span class="k">else</span> <span class="n">c</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">a</span> <span class="k">if</span> <span class="n">a</span><span class="o">&lt;</span><span class="n">b</span> <span class="k">else</span> <span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
<p>which certainly takes some time to parse and understand but it just
performs the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">max</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">),</span> <span class="nb">min</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">))</span>
</pre></div>
</div>
<p>Assume instead of the long expression above, the one with <code class="docutils literal notranslate"><span class="pre">min</span></code> and
<code class="docutils literal notranslate"><span class="pre">max</span></code> are used. Even if the definition of <code class="docutils literal notranslate"><span class="pre">max</span></code> and <code class="docutils literal notranslate"><span class="pre">min</span></code> are not
given yet, still one can grasp what the expression is up to. It is not
only because the expression is smaller, but because function naming can
depict the meaning for the actions.</p>
<p>4- <strong>Benefits of the functional programming paradigm</strong></p>
<p>If a programmer sticks to the functional paradigm, then he or she has to
plot a functional decomposition so that the solution of the problem is
obtained by means of functional composition, something that is
well-known and understood through Mathematics. This type of a solution
does not suffer from unexpected side effects or variable alterations;
therefore, testing and debugging are easier. Another benefit of the
functional paradigm is recursion: In other words, while defining a
function, we can call the function that is being defined – we will cover
this seemingly confusing concept below. Moreover, we can define
higher-order functions that take functions as input and apply them to a
sequence of data. All these benefits come free with using functions, as
we will illustrate below.</p>
<p>Even when we do not limit ourselves to ‘functional programming’, it is
essential to use functions in professional programming. General
algorithms that are coded as functions are becoming very valuable
because they can be reused again and again in new programs. Collections
formed by such general purpose functions are called <em>libraries</em>. For
almost all application areas libraries have been created over decades.</p>
</div>
<div class="section" id="defining-functions">
<h2><span class="section-number">6.2. </span>Defining functions<a class="headerlink" href="#defining-functions" title="Permalink to this headline">¶</a></h2>
<p>For defining a function, Python adopts the following syntax:</p>
<p><code class="docutils literal notranslate"><span class="pre">def</span></code> <span class="math notranslate nohighlight">\(\boxed{\color{red}{FunctionName\strut}}\)</span> <code class="docutils literal notranslate"><span class="pre">(</span></code><span class="math notranslate nohighlight">\(\boxed{\color{red}{Parameter_1\strut}}\)</span> <code class="docutils literal notranslate"><span class="pre">,</span></code><span class="math notranslate nohighlight">\(\boxed{\color{red}{Parameter_2\strut}}\)</span> <code class="docutils literal notranslate"><span class="pre">,</span></code><span class="math notranslate nohighlight">\(\color{red}{\large\cdots}\)</span> <code class="docutils literal notranslate"><span class="pre">)</span></code> <code class="docutils literal notranslate"><span class="pre">:</span></code><span class="math notranslate nohighlight">\(\boxed{\color{red}{Statement\strut\ }}\)</span></p>
<p>The <span class="math notranslate nohighlight">\(\color{red}{Statement}\)</span>, which can be replaced by multiple
statements like we did with other compound statements, can make use of
the <span class="math notranslate nohighlight">\(\color{red}{Parameter_i}\)</span>s to obtain the actual arguments
sent to the function at call-time. If the function is going to give a
value in return to the call, this value is provided by a <code class="docutils literal notranslate"><span class="pre">return</span></code>
statement.</p>
<p><span class="math notranslate nohighlight">\(\color{red}{FunctionName}\)</span> is the name of the function being
defined. Python follows the same naming rules and conventions used for
naming variables – if you do not remember them, we recommend you to go
back and check the restrictions for naming variables in Chapter 4.</p>
<p>Here is a straightforward example. Let us assume that we want to
implement the following function:</p>
<div class="math notranslate nohighlight" id="equation-chapters-ch6-functions-0">
<span class="eqno">(6.2.1)<a class="headerlink" href="#equation-chapters-ch6-functions-0" title="Permalink to this equation">¶</a></span>\[F_{gravity}(m_1,m_2,r) = G\frac{m_1 m_2}{r^2}.\]</div>
<p>The following is the one-line Python code that defines it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">F_gravity</span><span class="p">(</span><span class="n">m_1</span><span class="p">,</span> <span class="n">m_2</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span> <span class="k">return</span> <span class="n">G</span> <span class="o">*</span> <span class="n">m_1</span> <span class="o">*</span> <span class="n">m_2</span> <span class="o">/</span> <span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
<p>This function, <code class="docutils literal notranslate"><span class="pre">F_gravity</span></code>, returns a value. This is provided by the
<code class="docutils literal notranslate"><span class="pre">return</span></code> statement. As you may have observed, the values <span class="math notranslate nohighlight">\(m_1\)</span>,
<span class="math notranslate nohighlight">\(m_2\)</span> and <span class="math notranslate nohighlight">\(r\)</span> are provided as the first, the second and the
third parameters, named as <code class="docutils literal notranslate"><span class="pre">m_1</span></code>, <code class="docutils literal notranslate"><span class="pre">m_2</span></code> and <code class="docutils literal notranslate"><span class="pre">r</span></code>, respectively.</p>
<p>But what about <code class="docutils literal notranslate"><span class="pre">G</span></code>? It is not provided in the arguments and used in
the return expression for its value. If the definition were a
multi-statement definition (indented multi-statements following the
<code class="docutils literal notranslate"><span class="pre">def</span></code> line), then Python would seek for a defined value for <code class="docutils literal notranslate"><span class="pre">G</span></code>
among them. But this is not even the case, so the last alternative is to
seek a value in the <code class="docutils literal notranslate"><span class="pre">global</span></code> environment, the environment in which
<code class="docutils literal notranslate"><span class="pre">F_gravity</span></code> is called.</p>
<p>Therefore, before we call <code class="docutils literal notranslate"><span class="pre">F_gravity</span></code>, we must make sure that a value
for a global variable <code class="docutils literal notranslate"><span class="pre">G</span></code> (which apparently is the <em>Gravitational
Constant</em>) is set. In the <strong>Scope of Variables</strong> section, we will be
handling the rules of this to a greater extent.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">F_gravity</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span> <span class="k">return</span> <span class="n">G</span> <span class="o">*</span> <span class="n">m1</span> <span class="o">*</span> <span class="n">m2</span> <span class="o">/</span> <span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="n">r</span><span class="p">)</span>

<span class="n">G</span> <span class="o">=</span> <span class="mf">6.67408E-11</span>
<span class="nb">print</span><span class="p">(</span><span class="n">F_gravity</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="s2">&quot;Newton&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">5.3392640000000006e-06</span> <span class="n">Newton</span>
</pre></div>
</div>
</div>
<div class="section" id="passing-parameters-to-functions">
<h2><span class="section-number">6.3. </span>Passing parameters to functions<a class="headerlink" href="#passing-parameters-to-functions" title="Permalink to this headline">¶</a></h2>
<p>When a function is called, first its arguments are evaluated. The
function will receive the results of these evaluations. The parameter
variables used in the definition are created, and set to the result of
the argument evaluations. Then the statement that follows the column
(<code class="docutils literal notranslate"><span class="pre">:</span></code>) after the argument parenthesis is executed. Certainly this
statement can and will make use of the parameter variables (which are
set to the result of the argument evaluations).</p>
<p>Let us look at an example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">F_gravity</span><span class="p">(</span><span class="n">m_1</span><span class="p">,</span> <span class="n">m_2</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span> <span class="k">return</span> <span class="n">G</span> <span class="o">*</span> <span class="n">m_1</span> <span class="o">*</span> <span class="n">m_2</span> <span class="o">/</span> <span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="n">r</span><span class="p">)</span>

<span class="n">G</span> <span class="o">=</span> <span class="mf">6.67408E-11</span>

<span class="n">S</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">Q</span> <span class="o">=</span> <span class="mi">2000</span>

<span class="nb">print</span><span class="p">(</span><span class="n">F_gravity</span><span class="p">(</span><span class="n">Q</span><span class="o">+</span><span class="n">S</span><span class="p">,</span> <span class="n">Q</span><span class="o">-</span><span class="n">S</span><span class="p">,</span> <span class="p">((</span><span class="mf">504.3</span><span class="o">-</span><span class="mf">66.1</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="p">(</span><span class="mf">351.1</span><span class="o">-</span><span class="mf">7.7</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">8.59177215925003e-10</span>
</pre></div>
</div>
<p>This is a legitimate piece of code that performs the following in order:</p>
<ul class="simple">
<li><p>Defines the function <code class="docutils literal notranslate"><span class="pre">F_gravity</span></code>.</p></li>
<li><p>Sets the value of the global variable <code class="docutils literal notranslate"><span class="pre">G</span></code> and <code class="docutils literal notranslate"><span class="pre">S</span></code> and <code class="docutils literal notranslate"><span class="pre">Q</span></code></p></li>
<li><p>Calls the (internally defined) <code class="docutils literal notranslate"><span class="pre">print</span></code> function which receives one
argument. This argument is a function call to <code class="docutils literal notranslate"><span class="pre">F_gravity</span></code>. So, in
order to have a value to print, this function call has to be
performed.</p></li>
<li><p>A call to <code class="docutils literal notranslate"><span class="pre">F_gravity</span></code> is prepared: It has three arguments, each has
to be evaluated and boiled down to a value. So, in a left-to-right
order the arguments are evaluated:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Q+S</span></code>is evaluated, and the result is stored into <code class="docutils literal notranslate"><span class="pre">m_1</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Q-S</span></code>is evaluated, and the result is stored into <code class="docutils literal notranslate"><span class="pre">m_2</span></code>.</p></li>
<li><p>Euclidean distance,
<span class="math notranslate nohighlight">\(\scriptstyle\mathtt{\sqrt{(504.3-66.1)^2+(351.1-7.7)^2}}\)</span>,
is evaluated and the result is stored into <code class="docutils literal notranslate"><span class="pre">r</span></code>.</p></li>
</ul>
</li>
<li><p>Since all arguments are evaluated, the statement defining the
function <code class="docutils literal notranslate"><span class="pre">F_gravity</span></code> can be executed.</p></li>
<li><p>This statement is <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">G</span> <span class="pre">*</span> <span class="pre">m_1</span> <span class="pre">*</span> <span class="pre">m_2</span> <span class="pre">/</span> <span class="pre">(r</span> <span class="pre">*</span> <span class="pre">r)</span></code>, which requires
the expression following the <code class="docutils literal notranslate"><span class="pre">return</span></code> keyword to be evaluated and
the result to be returned as the result of the function call.</p></li>
<li><p>Now the <code class="docutils literal notranslate"><span class="pre">print</span></code> function has got its parameter evaluated. The
defining action of the <code class="docutils literal notranslate"><span class="pre">print</span></code> function can be carried out (This is
an internally defined function, i.e. we cannot see its definition,
but the documents defining the language explain it).</p></li>
</ul>
<p>The bottom line is: Before the function is called, there is a
preparation phase where all arguments are evaluated and hence converted
to a value. This has a name in computer science and is coined as
<em>Call-by-value</em>.</p>
<div class="section" id="default-parameters">
<h3><span class="section-number">6.3.1. </span>Default Parameters<a class="headerlink" href="#default-parameters" title="Permalink to this headline">¶</a></h3>
<p>While defining a function, we can provide default values to parameters
as follows:</p>
<p><code class="docutils literal notranslate"><span class="pre">def</span></code> <span class="math notranslate nohighlight">\(\boxed{\color{red}{FunctionName\strut}}\)</span> <code class="docutils literal notranslate"><span class="pre">(</span></code><span class="math notranslate nohighlight">\(\boxed{\color{red}{Parameter_1\strut}=\color{red}{Exp_1}}\)</span>
<code class="docutils literal notranslate"><span class="pre">,</span></code><span class="math notranslate nohighlight">\(\boxed{\color{red}{Parameter_2\strut}=\color{red}{Exp_2}}\)</span>
<code class="docutils literal notranslate"><span class="pre">,</span></code> <span class="math notranslate nohighlight">\(\color{red}{\large\cdots}\)</span> <code class="docutils literal notranslate"><span class="pre">)</span></code> <code class="docutils literal notranslate"><span class="pre">:</span></code><span class="math notranslate nohighlight">\(\boxed{\color{red}{Statement\strut\ }}\)</span></p>
<p>where <span class="math notranslate nohighlight">\(\color{red}{Exp_i}\)</span> is an expression. When calling the
function, we may omit providing the parameters for which the function
has default values.</p>
<p>Let us have a look at a simple example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">norm</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">norm_type</span><span class="o">=</span><span class="s2">&quot;L1&quot;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
  <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
  <span class="k">if</span> <span class="n">norm_type</span> <span class="o">==</span> <span class="s2">&quot;L1&quot;</span><span class="p">:</span> <span class="n">result</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x2</span><span class="p">)</span>
  <span class="k">elif</span> <span class="n">norm_type</span> <span class="o">==</span> <span class="s2">&quot;L2&quot;</span><span class="p">:</span> <span class="n">result</span> <span class="o">=</span> <span class="p">(</span><span class="n">x1</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">x2</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
  <span class="k">elif</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Norm not known:&quot;</span><span class="p">,</span> <span class="n">norm_type</span><span class="p">)</span>

  <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">norm_type</span><span class="si">}</span><span class="s2"> norm of&quot;</span><span class="p">,</span> <span class="p">[</span><span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">],</span> <span class="s2">&quot;is:&quot;</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
  <span class="k">return</span> <span class="n">result</span>

<span class="n">norm</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>                                      <span class="c1"># CASE 1</span>
<span class="n">norm</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="s2">&quot;L2&quot;</span><span class="p">)</span>                                <span class="c1"># CASE 2</span>
<span class="n">norm</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">norm_type</span><span class="o">=</span><span class="s2">&quot;L2&quot;</span><span class="p">)</span>                      <span class="c1"># CASE 3</span>
<span class="n">norm</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>                       <span class="c1"># CASE 4: Does not print the value</span>
<span class="n">norm</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">norm_type</span><span class="o">=</span><span class="s2">&quot;L1&quot;</span><span class="p">)</span>        <span class="c1"># CASE 5</span>
<span class="n">norm</span><span class="p">(</span><span class="n">x2</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">x1</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">norm_type</span><span class="o">=</span><span class="s2">&quot;L1&quot;</span><span class="p">)</span>  <span class="c1"># CASE 6</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">L1</span> <span class="n">norm</span> <span class="n">of</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="ow">is</span><span class="p">:</span> <span class="mi">7</span>
<span class="n">The</span> <span class="n">L2</span> <span class="n">norm</span> <span class="n">of</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="ow">is</span><span class="p">:</span> <span class="mf">5.0</span>
<span class="n">The</span> <span class="n">L2</span> <span class="n">norm</span> <span class="n">of</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="ow">is</span><span class="p">:</span> <span class="mf">5.0</span>
<span class="n">The</span> <span class="n">L1</span> <span class="n">norm</span> <span class="n">of</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="ow">is</span><span class="p">:</span> <span class="mi">7</span>
<span class="n">The</span> <span class="n">L1</span> <span class="n">norm</span> <span class="n">of</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="ow">is</span><span class="p">:</span> <span class="mi">7</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">7</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Let us look at some cases that lead to errors:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">norm</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">norm_type</span><span class="o">=</span><span class="s2">&quot;L1&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>                <span class="c1"># CASE 7</span>
<span class="n">File</span> <span class="s2">&quot;&lt;ipython-input-19-128dc3e43256&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">2</span>
    <span class="n">norm</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">norm_type</span><span class="o">=</span><span class="s2">&quot;L1&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>                <span class="c1"># CASE 7</span>
                              <span class="o">^</span>
<span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">positional</span> <span class="n">argument</span> <span class="n">follows</span> <span class="n">keyword</span> <span class="n">argument</span>
</pre></div>
</div>
<p>In this example, you should notice the following crucial points:</p>
<ul class="simple">
<li><p>We can call a function without providing any value for the parameters
that have default values (<code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">1</span></code>, .., <code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">5</span></code>).</p></li>
<li><p>We can swap the order of default parameters when we are calling the
function (<code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">5</span></code> and <code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">6</span></code>).</p></li>
<li><p>When calling a function, we can give values to non-default parameters
by using their names (<code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">6</span></code>).</p></li>
<li><p>The parameters after the default parameters need to be given names as
well, both while defining the function and calling the function
(<code class="docutils literal notranslate"><span class="pre">CASE</span> <span class="pre">7</span></code>).</p></li>
</ul>
</div>
</div>
<div class="section" id="scope-of-variables">
<h2><span class="section-number">6.4. </span>Scope of variables<a class="headerlink" href="#scope-of-variables" title="Permalink to this headline">¶</a></h2>
<p>We extensively use variables while programming our solutions. Not all
variables are accessible from everywhere. There is a governing set of
rules for that determine which parts of a code can access a variable.
The code part from which a variable is accessible is called its <em>scope</em>.</p>
<p>In Python, there are four categories of scopes. As will be explained
shortly, they are abbreviated with their initials , which then combine
to form the rule mnemonic LEGB standing for:</p>
<center><p>[<span class="math notranslate nohighlight">\(\color{red}{L}\)</span>ocal <span class="math notranslate nohighlight">\(&lt;\)</span> <span class="math notranslate nohighlight">\(\color{red}{E}\)</span>nclosing
<span class="math notranslate nohighlight">\(&lt;\)</span> <span class="math notranslate nohighlight">\(\color{red}{G}\)</span>lobal <span class="math notranslate nohighlight">\(&lt;\)</span>
<span class="math notranslate nohighlight">\(\color{red}{B}\)</span>uilt-in]</p>
</center><p><strong>1- Local Scope</strong></p>
<p>Defining a variable in a function in Python makes it local.</p>
<p>Local variables are the most ‘private’ ones. Any code which is external
to that function cannot see it. If you make an assignment anywhere in
the function to a variable, it is registered as a local variable. If you
attempt to refer to such a local variable prior to the assignment,
Python will generate a run-time error.</p>
<p>The local variables are created each time the function is called (it is
activated) and are annihilated (destructed) the moment the function
returns (finishes).</p>
<p><strong>2- Enclosing Scope</strong></p>
<p>As we mentioned before, it is possible to define functions inside
functions. They are coined as <em>local functions</em> and can refer (but not
change) to the values of the local variables of its parent function (the
function in which the local function is defined). The scope of the outer
function is the enclosing scope for the inner function. Though the
parent function’s variables are visible to the local function, the
converse is not true. The parent function cannot access its local
function’s local variables. Therefore, the accessibility is from inward
to outward and for referring purposes only.</p>
<p><strong>3- Global Scope</strong></p>
<p>If a variable is not defined in a function then it is a <em>global
variable</em>. It can be accessed outside as well as inside of any function.
If a global variable is accessed inside a function, it cannot be altered
there. If it is altered anywhere in the function, this is recognised at
the declaration-time and that variable is declared (created) as a local
variable. A local variable that has the same name with a global variable
conceals the global variable.</p>
<p>If you want to change the value of a global variable inside a function,
then you have to explicitly declare it as a global variable by a
statement:</p>
<p><code class="docutils literal notranslate"><span class="pre">global</span></code> <span class="math notranslate nohighlight">\(\boxed{\color{red}{V\!ariable\strut}}\)</span></p>
<p>Then an assignment to <span class="math notranslate nohighlight">\(\color{red}{V\!ariable}\)</span> will not register
it as a local variable but merely refer to the global
<span class="math notranslate nohighlight">\(\color{red}{V\!ariable}\)</span>. As said, since the system will
recognize them automatically, there is no need to use the <code class="docutils literal notranslate"><span class="pre">global</span></code>
statement for global variables which are referred to for their values
only. However, it is a good programming habit to do so in order to
enhance readability and prevent accidental local variable creations (due
to careless assignments to global variables).</p>
<p><strong>4- Built-in Scope</strong></p>
<p>Built-in scope is a special Python scope that is created or loaded
whenever you run a script or open an interactive session. This is
actually the scope in which the Python interpreter starts. It contains
names such as keywords, built-in functions, exceptions, and some other
attributes. Entities in this scope are also available from everywhere in
your code.</p>
<p><strong>An Interactive Example for Scope</strong></p>
<p>Please follow the Colab link at the top of the page for an interactive
demo on scope of variables.</p>
<p>A variable occurrence has different meanings for different positions in
the program:</p>
<ol class="arabic simple">
<li><p>First time occurrence of the variable at the left-hand side of an
assignment: This tells Python to declare a variable in the current
scope, the current function or the global scope. If there is a
variable with the same name in an outer scope, it is hidden as long
as the new variable is active. This declaration will be active for
the scope it is created in including statements preceding it.</p></li>
<li><p>Second and later occurrences of the variable at the left-hand side of
an assignment: They simply update the previously declared variable.</p></li>
<li><p>Occurrences of the variable at the right-hand side of an assignment
or any other place in an expression: Python places value (content) of
the variable in the expression position. Variable is searched in all
scopes from inner to outer (local, then enclosing, then global, then
built-in) and the first found variable is used. If the declaration of
the variable is after its reference in current scope, Python will
raise the error <code class="docutils literal notranslate"><span class="pre">'Reference</span> <span class="pre">before</span> <span class="pre">assignment'</span></code>.</p></li>
</ol>
<p>Note that <code class="docutils literal notranslate"><span class="pre">global</span></code> declaration changes the behaviour above. It makes
all occurrences to refer to the global variable and does not declare a
variable in the current scope with the globally defined names.</p>
</div>
<div class="section" id="higher-order-functions">
<h2><span class="section-number">6.5. </span>Higher-order functions<a class="headerlink" href="#higher-order-functions" title="Permalink to this headline">¶</a></h2>
<p>Python provides several flavours of the functional paradigm, one of the
most powerful of which is the ability to easily pass functions as
parameters to other functions. No special syntax or rule is used for
this: If you use a parameter as if it is a function and when calling the
higher-order function, pass a function name as a parameter, Python will
handle the rest.</p>
<p>Python provides two very practical higher-order functions for us:</p>
<ul>
<li><p><strong>map</strong> function: The <code class="docutils literal notranslate"><span class="pre">map</span></code> function has the following syntax:</p>
<p><code class="docutils literal notranslate"><span class="pre">map(function,</span> <span class="pre">Iterator)</span></code></p>
<p>which yields an iterator where each element is <code class="docutils literal notranslate"><span class="pre">function</span></code> being
applied on the corresponding element in <code class="docutils literal notranslate"><span class="pre">Iterator</span></code>. Here is a
simple example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">abs_it</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">abs</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">abs_it</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">10</span>
<span class="go">4</span>
<span class="go">20</span>
<span class="go">100</span>
</pre></div>
</div>
</li>
<li><p><strong>filter</strong> function: The <code class="docutils literal notranslate"><span class="pre">filter</span></code> function has a similar syntax to
the <code class="docutils literal notranslate"><span class="pre">map</span></code> function:</p>
<p><code class="docutils literal notranslate"><span class="pre">filter(predicate,</span> <span class="pre">Iterator)</span></code></p>
<p>where <code class="docutils literal notranslate"><span class="pre">predicate</span></code> is a function with a boolean return value. The
<code class="docutils literal notranslate"><span class="pre">filter</span></code> function applies <code class="docutils literal notranslate"><span class="pre">predicate</span></code> to each element of the
<code class="docutils literal notranslate"><span class="pre">Iterator</span></code> and only keeps the ones for which <code class="docutils literal notranslate"><span class="pre">predicate</span></code> returns
<code class="docutils literal notranslate"><span class="pre">True</span></code>. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">positive</span><span class="p">(</span><span class="n">x</span><span class="p">):</span> <span class="k">return</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">filter</span><span class="p">(</span><span class="n">positive</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="o">-</span><span class="mi">100</span><span class="p">]):</span> <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">10</span>
<span class="go">20</span>
</pre></div>
</div>
</li>
</ul>
<p>Of course, the functional capabilities of Python is more diverse than we
can cover in this introductory textbook. The reader is referred to
<a class="reference external" href="https://docs.python.org/3/howto/functional.html">Python docs</a>. The
curious reader is especially recommended to look at <em>lambda expressions</em>
and the <em>reduce</em> function.</p>
</div>
<div class="section" id="functions-in-programming-vs-functions-in-mathematics">
<h2><span class="section-number">6.6. </span>Functions in programming vs. functions in Mathematics<a class="headerlink" href="#functions-in-programming-vs-functions-in-mathematics" title="Permalink to this headline">¶</a></h2>
<p>It is to be noted that functions have a differentiated meaning compared
to functions in Mathematics.</p>
<ul>
<li><p>In Mathematics, a function is a mapping from a domain to a range
(target); a function returns a value.</p>
<p><strong>In Python:</strong> Functions may not return a value at all. If so, they
are intended to code a parametrized action. A few examples to this
are:</p>
<ul class="simple">
<li><p>Drawing a <span class="math notranslate nohighlight">\(red\)</span> line from <span class="math notranslate nohighlight">\((x_0, y_0)\)</span> to
<span class="math notranslate nohighlight">\((x_1, y_1)\)</span>.</p></li>
<li><p>Printing a separating line made of <span class="math notranslate nohighlight">\(n\)</span> ‘minus’ signs.</p></li>
<li><p>Turning off the lights.</p></li>
<li><p>Sending a digital initialization string to a device connected
through the USB port.</p></li>
</ul>
</li>
<li><p>In Mathematics, a function definition is global. You do not have
function definitions local to some function.</p>
<p><strong>In Python:</strong> Since a function definition is done by a Python
<span class="math notranslate nohighlight">\(\color{red}{Statement}\)</span> (or a group of statements – grouped by
indentation), it is quite possible to have another definition as part
of the defining statements. Such a function can only be usable in the
<span class="math notranslate nohighlight">\(\color{red}{Statement}\)</span> group that defines the outer function
and access its local variables and parameters. Outside of the
function, this interior function (called a <em>local function</em>) will not
be visible nor usable.</p>
</li>
<li><p>In Mathematics, an element from the domain is mapped to one and only
one target element by the function. The mapping does not change.
Moreover, a mathematical function returns a value that only depends
on the arguments. Hence, for the same arguments, the result is the
same.</p>
<p><strong>In Python:</strong> Even if such a mapping exists (i.e. a function
returns a value), it is possible that the function acts differently
due to different settings of the variables (outside of the function)
that can be accessed in the functions. Consider the <code class="docutils literal notranslate"><span class="pre">F_gravity</span></code>
function above: A different setting for the <code class="docutils literal notranslate"><span class="pre">G</span></code> (the Gravitational
Constant) will yield a different <code class="docutils literal notranslate"><span class="pre">F_gravity</span></code> result even when the
parameters are the same.</p>
</li>
<li><p>In Mathematics, a function’s operation is reflected on the value it
returns: It does not have side effects. In other words, a
mathematical function does not change the mathematical environment
that is external to it (variables or the ways other functions are
evaluated).</p>
<p><strong>In Python:</strong> This may not be true. Consider the <code class="docutils literal notranslate"><span class="pre">G</span></code> value of
the <code class="docutils literal notranslate"><span class="pre">F_gravity</span></code> function above. Hypothetically, it is possible
that, at each call of <code class="docutils literal notranslate"><span class="pre">F_gravity</span></code>, the <code class="docutils literal notranslate"><span class="pre">G</span></code> value is increased
slightly (1% for example):</p>
</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">F_gravity</span><span class="p">(</span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">r</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">global</span> <span class="n">G</span>        <span class="c1"># since we alter it</span>
<span class="gp">... </span>  <span class="n">G</span> <span class="o">=</span> <span class="mf">1.01</span> <span class="o">*</span> <span class="n">G</span>
<span class="gp">... </span>  <span class="k">return</span> <span class="n">G</span> <span class="o">*</span> <span class="n">m1</span> <span class="o">*</span> <span class="n">m2</span> <span class="o">/</span> <span class="p">(</span><span class="n">r</span> <span class="o">*</span> <span class="n">r</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">G</span> <span class="o">=</span> <span class="mf">6.67408E-11</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">F_gravity</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="s2">&quot;Newton&quot;</span><span class="p">)</span>
<span class="go">5.39265664e-06 Newton</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">F_gravity</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="s2">&quot;Newton&quot;</span><span class="p">)</span>
<span class="go">5.4465832064e-06 Newton</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">F_gravity</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span> <span class="s2">&quot;Newton&quot;</span><span class="p">)</span>
<span class="go">5.501049038464e-06 Newton</span>
</pre></div>
</div>
<p>In these aspects, a function defined in Python has a greater freedom. As
previously stated, there are paradigms of programming. One of these
paradigms, the <em>functional paradigm</em>, promotes the function’s usage to
be restricted to the mathematical sense. In other words, the <em>functional
paradigm</em> followers deliberately renounce the additional freedom
programming languages like Python provides in function definitions and
usages with respect to the mathematical sense. As a rule-of-thumb we can
say that deviating from the mathematical sense makes your programming
error prone.</p>
</div>
<div class="section" id="recursion">
<h2><span class="section-number">6.7. </span>Recursion<a class="headerlink" href="#recursion" title="Permalink to this headline">¶</a></h2>
<p>Recursion is a function definition technique in which the definition
makes use of calls to the function being defined. Although it is
difficult to grasp, it allows compact and more readable code for
recursive algorithms, relations or mathematical functions.</p>
<p>It is customary to give the infamous example of the recursive definition
of factorial. First, let us put it down in mathematical terms:</p>
<div class="math notranslate nohighlight" id="equation-chapters-ch6-functions-1">
<span class="eqno">(6.7.1)<a class="headerlink" href="#equation-chapters-ch6-functions-1" title="Permalink to this equation">¶</a></span>\[\begin{split}\begin{array}{lll}
N! &amp; = &amp; (N-1)!\times N, \qquad \textrm{for}\ N\in \mathbf{N}, \;\; N&gt;0 \\
0! &amp; =  &amp; 1, \nonumber
\end{array}\end{split}\]</div>
<p>Based on this, we can realize that:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(6!\)</span> is <span class="math notranslate nohighlight">\(6\times5!\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(5!\)</span> is <span class="math notranslate nohighlight">\(5\times 4!\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(4!\)</span> is <span class="math notranslate nohighlight">\(4\times 3!\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(3!\)</span> is <span class="math notranslate nohighlight">\(3\times 2!\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(2!\)</span> is <span class="math notranslate nohighlight">\(2\times 1!\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(1!\)</span> is <span class="math notranslate nohighlight">\(1\times 0!\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(0!\)</span> is <span class="math notranslate nohighlight">\(1\)</span></p></li>
</ul>
<p>Substituting any factorial value, based on this rule, one ends up with</p>
<div class="math notranslate nohighlight" id="equation-chapters-ch6-functions-2">
<span class="eqno">(6.7.2)<a class="headerlink" href="#equation-chapters-ch6-functions-2" title="Permalink to this equation">¶</a></span>\[6! = 6\times 5\times 4\times 3\times 2 \times 1 \times 1.\]</div>
<p>Making use of <span class="math notranslate nohighlight">\((N-1)!\)</span> while we are defining <span class="math notranslate nohighlight">\(N!\)</span> is making
a recursive definition. The Python equivalent of the above given
recursive mathematical definition of the factorial would be:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">factorial</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">N</span> <span class="o">=</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="n">N</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>High-level languages are designed so that each call to the <code class="docutils literal notranslate"><span class="pre">factorial</span></code>
function does not remember any previous call(s) even if they are still
active (unfinished). For every new call, fresh positions for all local
variables are created in the memory without forgetting the former values
of variables for the unfinished calls.</p>
<p>From the programmers point of view, the only concern is the algorithmic
answer to the question:</p>
<blockquote>
<div><p>“Having the recursive call returned the correct answer to the smaller
problem, how can I cook up the answer to the actual problem?”</p>
</div></blockquote>
<p>It requires a kind of ‘stop thinking’ (leap of faith) action: ‘Stop
thinking how the recursive call comes up with the correct answer’. Just
concentrate on the next step paraphrased in the quotation above.</p>
<p>Not to get into an infinite, non-stopping recursive loop, you should be
careful about two aspects:</p>
<ol class="arabic simple">
<li><p>The recursive call should be made with a decrescent (getting smaller)
argument. In the factorial example, calculation of <span class="math notranslate nohighlight">\(N!\)</span>
recursively called <span class="math notranslate nohighlight">\((N-1)!\)</span>, i.e. a smaller value than
<span class="math notranslate nohighlight">\(N!\)</span>.</p></li>
<li><p>The function definition must start with a test for the smallest
possible argument case (in the factorial example, this was 0 (zero))
where a value for this case is directly returned (in the factorial
example this was 1 (one)). This is called the termination or base
condition.</p></li>
</ol>
<p>Let us consider another example: We have a list of unordered numbers.
Nothing is pre-known about the magnitude of the numbers. The problem is
to find the maximum of the numbers in that list.</p>
<p>Let us say you are given a list of, say, 900 numbers. For a second,
assume that you have a very loving grandpa. Your grandpa has a rule of
his own: not to corrupt you, he will not solve the problem for you but,
if you reduce the problem slightly, his heart softens and provides the
answer for the smaller problem.</p>
<p>Presumably, the simplest ‘reduction’ that you can do on a 900-element
list is removing an element from it and making it a list of 899 numbers.
As far as Python lists are concerned, the simplest of the simple is to
remove the first element: If <code class="docutils literal notranslate"><span class="pre">L</span></code> is your list, <code class="docutils literal notranslate"><span class="pre">L[0]</span></code> is the first
element and <code class="docutils literal notranslate"><span class="pre">L[1:]</span></code> is the list of remaining elements. So, the trick
is to remove the first element, take <code class="docutils literal notranslate"><span class="pre">L[1:]</span></code> to your grandpa (that is
making the recursive call), and ask for the solution. Your grandpa is
very cooperative and gives you the solution (the biggest number) for the
list (<code class="docutils literal notranslate"><span class="pre">L[1:]</span></code>) you passed to him.</p>
<p>However, we are not finished: On one hand you have what your grandpa
returned to you as the biggest number of the slightly reduced list
(<code class="docutils literal notranslate"><span class="pre">L[1:]</span></code>), and on the other hand, you have the removed (first) element
<code class="docutils literal notranslate"><span class="pre">L[0]</span></code>. Now, which one will you return as the solution of the 900
number list? Think about it!</p>
<p>Here is the solution in Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">find_max</span><span class="p">(</span><span class="n">L</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span> <span class="k">return</span> <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>   <span class="c1"># Terminating condition</span>
    <span class="k">else</span><span class="p">:</span>
            <span class="n">grandpa_result</span> <span class="o">=</span> <span class="n">find_max</span><span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>   <span class="c1">#recursion is on L with the 0th element removed</span>
            <span class="k">if</span> <span class="n">grandpa_result</span> <span class="o">&gt;</span> <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="k">return</span> <span class="n">grandpa_result</span>
            <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># Let&#39;s try with a simple list -- try changing M and check the result</span>
<span class="n">M</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The maximum element of M is:&quot;</span><span class="p">,</span> <span class="n">find_max</span><span class="p">(</span><span class="n">M</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">maximum</span> <span class="n">element</span> <span class="n">of</span> <span class="n">M</span> <span class="ow">is</span><span class="p">:</span> <span class="mi">100</span>
</pre></div>
</div>
<p>As you may have recognized, the definition started with testing for the
smallest case. That is a single element list for which the result (the
biggest number in the list) is that single number itself.</p>
<p>Recursion helps writing elegant functions. However, it does not come for
free. The price is in the time and memory overhead spent on creating a
new function call. Time may be something tolerable but memory is
limited. For functions that make thousands of recursive calls, you
should better seek algorithmic solutions that do not lean on recursion.
Python has a default for recursion depth, which is set to 1000. This can
be altered. As said, it is better to seek a non-recursive solution
unless you know very well of what you are doing.</p>
<p>Any recursive function can be implemented using iterations. The reverse
is also true: Any iterative function can be implemented using recursion.
The definition of the problem or the algorithm generally provides hints
for whether recursion or iteration is better for implementing your
solution.</p>
</div>
<div class="section" id="function-examples">
<h2><span class="section-number">6.8. </span>Function Examples<a class="headerlink" href="#function-examples" title="Permalink to this headline">¶</a></h2>
<p><strong>Example 1: Computing average and standard-deviation</strong></p>
<p>In the previous chapter, we provided iterative definitions for
calculating the average and the standard-deviation of a list of numbers.
Let us look at these definitions again with functions. For the sake of
ease, the mathematical definitions are provided again. Moreover, we will
use this opportunity to talk more about iterations as well.</p>
<p>Average of a set (<span class="math notranslate nohighlight">\(S\)</span>) of numbers is calculated by dividing the
sum of the values in the set by their number. So, if we have a set
<span class="math notranslate nohighlight">\(S\)</span>:</p>
<div class="math notranslate nohighlight" id="equation-chapters-ch6-functions-3">
<span class="eqno">(6.8.1)<a class="headerlink" href="#equation-chapters-ch6-functions-3" title="Permalink to this equation">¶</a></span>\[avg(S) = \frac{1}{|S|}\sum_{x\in S} x,\]</div>
<p>which can be coded as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">avg</span><span class="p">(</span><span class="n">S</span><span class="p">):</span>
  <span class="nb">sum</span> <span class="o">=</span> <span class="mf">0.0</span>
  <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">S</span><span class="p">:</span> <span class="nb">sum</span> <span class="o">+=</span> <span class="n">x</span>
  <span class="k">return</span> <span class="nb">sum</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>

<span class="n">S</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The avg of S:&quot;</span><span class="p">,</span> <span class="n">avg</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">avg</span> <span class="n">of</span> <span class="n">S</span><span class="p">:</span> <span class="mf">7.0</span>
</pre></div>
</div>
<p>This is quite elegant. As you see it works at a higher abstraction
level. This can be done because the <code class="docutils literal notranslate"><span class="pre">in</span></code> operator comes in very handy
and when used as an iterator, it iterates over the elements of the list.</p>
<p>Sometimes it is more desirable to work with the indices to reach out to
each element. Remember that indexing of container elements start at
zero. So, a more index-based formulation of the same formula would be:</p>
<div class="math notranslate nohighlight" id="equation-chapters-ch6-functions-4">
<span class="eqno">(6.8.2)<a class="headerlink" href="#equation-chapters-ch6-functions-4" title="Permalink to this equation">¶</a></span>\[avg(S) = \frac{1}{|S|}\sum_{i=0}^{|S|-1} S_i\]</div>
<p>The following implements this definition:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">avg</span><span class="p">(</span><span class="n">S</span><span class="p">):</span>
  <span class="nb">sum</span> <span class="o">=</span> <span class="mf">0.0</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)):</span> <span class="nb">sum</span> <span class="o">+=</span> <span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="k">return</span> <span class="nb">sum</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>

<span class="n">S</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The avg of S:&quot;</span><span class="p">,</span> <span class="n">avg</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
</pre></div>
</div>
<p>This is almost okay but not perfect. <code class="docutils literal notranslate"><span class="pre">len</span></code> is a built-in function that
returns the element count of any container (string, list, tuple). As you
have observed <code class="docutils literal notranslate"><span class="pre">len(S)</span></code> is calculated twice. This is inefficient.
Function calls have a price, time-wise and space-wise, and therefore,
unnecessary calls should be avoided. To fix this, we change the code to
do computation once and store the result for further usages.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">avg</span><span class="p">(</span><span class="n">S</span><span class="p">):</span>
  <span class="nb">sum</span> <span class="o">=</span> <span class="mf">0.0</span>
  <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span> <span class="nb">sum</span> <span class="o">+=</span> <span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="k">return</span> <span class="nb">sum</span><span class="o">/</span><span class="n">length</span>

<span class="n">S</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The avg of S:&quot;</span><span class="p">,</span> <span class="n">avg</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">avg</span> <span class="n">of</span> <span class="n">S</span><span class="p">:</span> <span class="mf">7.0</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">sum</span></code>, <code class="docutils literal notranslate"><span class="pre">length</span></code>, <code class="docutils literal notranslate"><span class="pre">i</span></code> and the parameter <code class="docutils literal notranslate"><span class="pre">S</span></code> are all local
variables of the function <code class="docutils literal notranslate"><span class="pre">avg</span></code>. In contrary to many other programming
languages, in Python we do not have to declare locals. They are
automatically recognized. This comes in very handy.</p>
<p>One point to note about the code is that the <span class="math notranslate nohighlight">\(|S|-1\)</span> is missing.
It is not necessary because the <code class="docutils literal notranslate"><span class="pre">range</span></code> iterator excludes the end
value, as we discussed in the previous chapter.</p>
<div class="line-block">
<div class="line">Now let us also introduce the code for standard deviation. First the
mathematical definition:</div>
<div class="line"><br /></div>
</div>
<blockquote>
<div><div class="math notranslate nohighlight" id="equation-chapters-ch6-functions-5">
<span class="eqno">(6.8.3)<a class="headerlink" href="#equation-chapters-ch6-functions-5" title="Permalink to this equation">¶</a></span>\[std(S) = \sqrt{\frac{1}{|S|}\displaystyle\sum_{i=0}^{|S|-1}(S_i - avg(S))^2}\]</div>
</div></blockquote>
<p>This time we bear in mind that unnecessary function calls should be
avoided:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">avg</span><span class="p">(</span><span class="n">S</span><span class="p">):</span>
  <span class="nb">sum</span> <span class="o">=</span> <span class="mf">0.0</span>
  <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span> <span class="nb">sum</span> <span class="o">+=</span> <span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="k">return</span> <span class="nb">sum</span><span class="o">/</span><span class="n">length</span>

<span class="k">def</span> <span class="nf">std</span><span class="p">(</span><span class="n">S</span><span class="p">):</span>
  <span class="nb">sum</span> <span class="o">=</span> <span class="mf">0.0</span>
  <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
  <span class="n">average</span> <span class="o">=</span> <span class="n">avg</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span> <span class="nb">sum</span> <span class="o">+=</span> <span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">average</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
  <span class="k">return</span> <span class="p">(</span><span class="nb">sum</span><span class="o">/</span><span class="n">length</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>

<span class="n">S</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The avg of S:&quot;</span><span class="p">,</span> <span class="n">avg</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The std of S:&quot;</span><span class="p">,</span> <span class="n">std</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">avg</span> <span class="n">of</span> <span class="n">S</span><span class="p">:</span> <span class="mf">7.0</span>
<span class="n">The</span> <span class="n">std</span> <span class="n">of</span> <span class="n">S</span><span class="p">:</span> <span class="mf">3.391164991562634</span>
</pre></div>
</div>
<p>We gave the solution in terms of explicit indexing. As given below this
particular problem can be coded without an iteration over indices. Such
problems are rare. Problems that require operations over vectors and
matrices or problems that aim optimizations usually require explicit
index iterations.</p>
<p>For sake of completeness we state the index-less solution of the average
and standard-deviation problem:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">avg</span><span class="p">(</span><span class="n">S</span><span class="p">):</span>
  <span class="nb">sum</span> <span class="o">=</span> <span class="mf">0.0</span>
  <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">S</span><span class="p">:</span> <span class="nb">sum</span> <span class="o">+=</span> <span class="n">x</span>
  <span class="k">return</span> <span class="nb">sum</span><span class="o">/</span><span class="n">length</span>

<span class="k">def</span> <span class="nf">std</span><span class="p">(</span><span class="n">S</span><span class="p">):</span>
  <span class="nb">sum</span> <span class="o">=</span> <span class="mf">0.0</span>
  <span class="n">length</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
  <span class="n">average</span> <span class="o">=</span> <span class="n">avg</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">S</span><span class="p">:</span> <span class="nb">sum</span> <span class="o">+=</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">average</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
  <span class="k">return</span> <span class="p">(</span><span class="nb">sum</span><span class="o">/</span><span class="n">length</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>

<span class="n">S</span> <span class="o">=</span> <span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The avg of S:&quot;</span><span class="p">,</span> <span class="n">avg</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The std of S:&quot;</span><span class="p">,</span> <span class="n">std</span><span class="p">(</span><span class="n">S</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">avg</span> <span class="n">of</span> <span class="n">S</span><span class="p">:</span> <span class="mf">7.0</span>
<span class="n">The</span> <span class="n">std</span> <span class="n">of</span> <span class="n">S</span><span class="p">:</span> <span class="mf">3.391164991562634</span>
</pre></div>
</div>
<p><strong>Example 2: Computing check digit</strong></p>
<p>A Standard Definition from
<a class="reference external" href="https://en.wikipedia.org/wiki/Check_digit">Wikipedia</a>:</p>
<blockquote>
<div><p>“A <em>check digit</em> is a form of redundancy check used for error
detection on identification numbers, such as bank account numbers,
which are used in an application where they will at least sometimes
be input manually. It consists of one or more digits computed by an
algorithm from the other digits (or letters) in the sequence input.</p>
</div></blockquote>
<blockquote>
<div><p>With a check digit, one can detect simple errors in the input of a
series of characters (usually digits) such as a single mistyped digit
or some permutations of two successive digits.”</p>
</div></blockquote>
<p>Middle East Technical University, our university, also implements a
check digit algorithm for student numbers. A student number has exactly
six digits. The algorithm to generate the checkdigit is as follows:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(sum \leftarrow 0\)</span></p></li>
<li><p>For each digit in the student number (the leftmost digit is the named
as the ‘first’) that has an odd position (first, third, fifth), take
the digit and add it to the <span class="math notranslate nohighlight">\(sum\)</span>.</p></li>
<li><p>For each digit in the student number that has an even position
(second, forth, sixth) take twice the digit. If this result of
doubling is a two digit number, then add each of these digits to the
<span class="math notranslate nohighlight">\(sum\)</span>, otherwise add the result of the doubling (which is a
single digit number itself) to the <span class="math notranslate nohighlight">\(sum\)</span>.</p></li>
<li><p>The one digit number, which when added to the <span class="math notranslate nohighlight">\(sum\)</span> results in
a multiple of 10, is the check digit.</p></li>
</ul>
<p>Take as example the student number <strong>167912</strong>:</p>
<div class="figure align-default" id="id1">
<a class="reference internal image-reference" href="../_images/ch6_checksum.png"><img alt="../_images/ch6_checksum.png" src="../_images/ch6_checksum.png" style="width: 300px;" /></a>
<p class="caption"><span class="caption-number">Fig. 6.8.1 </span><span class="caption-text">How checksum is calculated for a student number.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The check digit of the student number <strong>167912</strong> is found to be <strong>5</strong>.
As you all well know, this is written as <strong>167912-5</strong>. That is called
the <em>student-id</em>.</p>
<p>Below you will find the code that computes the checkdigit for a student
number, given as a string. We encourage you to investigate it. A very
good technique to understand how a code progresses when it runs is to
insert print statements to points of interest. You can start by
inserting:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">digit</span><span class="p">,</span> <span class="nb">sum</span><span class="p">)</span>
</pre></div>
</div>
<p>right after the line of <code class="docutils literal notranslate"><span class="pre">else:</span></code> (left-aligned with the <code class="docutils literal notranslate"><span class="pre">else</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">checksum</span><span class="p">(</span><span class="n">S</span><span class="p">):</span>
    <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)):</span>
        <span class="n">digit</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">S</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="k">if</span> <span class="n">i</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="nb">sum</span> <span class="o">+=</span> <span class="n">digit</span>
        <span class="k">else</span><span class="p">:</span> <span class="nb">sum</span> <span class="o">+=</span> <span class="p">(</span><span class="mi">9</span> <span class="k">if</span> <span class="n">digit</span><span class="o">==</span><span class="mi">9</span> <span class="k">else</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">digit</span><span class="p">)</span> <span class="o">%</span> <span class="mi">9</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">sum</span> <span class="o">%</span> <span class="mi">10</span>
    <span class="k">return</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">10</span> <span class="o">-</span> <span class="n">n</span>

<span class="nb">print</span><span class="p">(</span><span class="n">checksum</span><span class="p">(</span><span class="s2">&quot;167912&quot;</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">5</span>
</pre></div>
</div>
<p>A few notes about the code:</p>
<ul class="simple">
<li><p>Remember indexing starts in Python at zero. One group of digits,
namely (first, third, fifth) are actually at <code class="docutils literal notranslate"><span class="pre">S[0]</span></code>, <code class="docutils literal notranslate"><span class="pre">S[2]</span></code> and
<code class="docutils literal notranslate"><span class="pre">S[4]</span></code>. Their indices are <strong>even</strong>. Or in mathematical terms, they
are (modulo 2) zero.</p></li>
<li><p>Summing the digits of a number is a trick we learned in primary
school. It is actually nothing else but a quick way to do (modulo 9).
So, we are actually taking the (modulo 9) of the doubled digit. With
one exception: If the digit is 9, the double is 18 where we have to
add a 1+8=9 to the <code class="docutils literal notranslate"><span class="pre">sum</span></code>. But <code class="docutils literal notranslate"><span class="pre">(18</span> <span class="pre">%</span> <span class="pre">9)</span></code> would give us zero (not
9). So, here we have to insert an exception: For all digits except 9,
we can use <code class="docutils literal notranslate"><span class="pre">(2*digit)</span> <span class="pre">%</span> <span class="pre">9</span></code>. For 9, we ought to add a 9 to the
<code class="docutils literal notranslate"><span class="pre">sum</span></code>.</p></li>
<li><p>The rule of constructing the check digit from the <code class="docutils literal notranslate"><span class="pre">sum</span></code> has a
similar exception case for <code class="docutils literal notranslate"><span class="pre">sum</span></code> being a multiple of 10 (i.e. n
(modulo 10) = 0). In that case we would have a checkdigit of 10
(because 10-0 = 10) which is not a digit, but two digits. The
designers decided to use a zero as the checkdigit for this particular
case.</p></li>
</ul>
<p>Now let us see how the checkdigit can be used to recover a missing digit
of the student id.</p>
<p>Let us assume you have a student ID as: <strong>1🁢9503-7</strong>. Now, can we
discover what the (<strong>🁢</strong>) digit is?</p>
<p>For this purpose we will write a function <code class="docutils literal notranslate"><span class="pre">find_q_mark()</span></code> that will
take a string as an argument, in which the missing digit is indicated by
a (<code class="docutils literal notranslate"><span class="pre">?</span></code>) (question mark). We are expecting that a call of
<code class="docutils literal notranslate"><span class="pre">find_q_mark(&quot;1?9503-7&quot;)</span></code> will recover the missing digit and return
the demystified string: “169503-7”.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">checksum()</span></code> definition of above is still effective.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># places digit in the place of &#39;?&#39; in the string S</span>
<span class="k">def</span> <span class="nf">replace_q_mark</span><span class="p">(</span><span class="n">S</span><span class="p">,</span> <span class="n">digit</span><span class="p">):</span>
    <span class="n">new_S</span> <span class="o">=</span><span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">S</span><span class="p">:</span> <span class="n">new_S</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">digit</span><span class="p">)</span> <span class="k">if</span> <span class="n">c</span><span class="o">==</span><span class="s1">&#39;?&#39;</span> <span class="k">else</span> <span class="n">c</span>
    <span class="k">return</span> <span class="n">new_S</span>

<span class="c1"># finds the value for the position with &#39;?&#39;</span>
<span class="k">def</span> <span class="nf">find_q_mark</span><span class="p">(</span><span class="n">MissingStdID</span><span class="p">):</span>      <span class="c1"># MissingStdID is something like &quot;1?7912-5&quot;</span>
    <span class="n">six_digit_string</span> <span class="o">=</span> <span class="n">MissingStdID</span><span class="p">[:</span><span class="mi">6</span><span class="p">]</span>  <span class="c1"># &quot;1?7912&quot;</span>
    <span class="n">checksum_digit</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">MissingStdID</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span>
    <span class="k">for</span> <span class="n">missing_digit</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
        <span class="n">candidate</span> <span class="o">=</span> <span class="n">replace_q_mark</span><span class="p">(</span><span class="n">six_digit_string</span><span class="p">,</span> <span class="n">missing_digit</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">checksum</span><span class="p">(</span><span class="n">candidate</span><span class="p">)</span> <span class="o">==</span> <span class="n">checksum_digit</span><span class="p">:</span> <span class="k">return</span> <span class="n">candidate</span> <span class="o">+</span> <span class="n">MissingStdID</span><span class="p">[</span><span class="mi">6</span><span class="p">:]</span>

<span class="nb">print</span><span class="p">(</span><span class="n">find_q_mark</span><span class="p">(</span><span class="s2">&quot;1?7912-5&quot;</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">167912</span><span class="o">-</span><span class="mi">5</span>
</pre></div>
</div>
<p>A few notes about the code:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">replace_q_mark()</span></code> function is called by <code class="docutils literal notranslate"><span class="pre">find_q_mark()</span></code>. It is
only called once, therefore its actions could have been migrated into
<code class="docutils literal notranslate"><span class="pre">find_q_mark()</span></code>. Efficiency-wise there would be no change. But
seperating it out, making it into a function and naming it
accordingly makes the code more readable.</p></li>
<li><p>The first two lines that define <code class="docutils literal notranslate"><span class="pre">find_q_mark()</span></code> actions are merely
dissecting the string into a student-id and a checkdigit part.</p></li>
<li><p>What we do in the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop in <code class="docutils literal notranslate"><span class="pre">find_q_mark()</span></code> (on Lines 11-13)
is coined in Computer Science as <em>brute force</em>. Practically, it is
trying every possible case for being a solution. In this problem, the
<code class="docutils literal notranslate"><span class="pre">(?)</span></code> mark can be any digit in the range [0,9]. The <code class="docutils literal notranslate"><span class="pre">for</span></code> loop
tries each of these possibilities out until the computed checksum
becomes the same as the checkdigit appearing in the input string.</p></li>
</ul>
<p><strong>Example 3: Sequential Search</strong></p>
<p>Searching an item in a list or any other container is a frequently
performed operation required while solving world problems. For the sake
of simplicity, let us just focus on situations where only numbers are
involved; i.e. the searched item is a number and the list includes only
numbers. Extension to other data types is trivial.</p>
<p>In a search problem, we have a query item (let’s call it <code class="docutils literal notranslate"><span class="pre">x</span></code>) and a
list of items (let’s call it <code class="docutils literal notranslate"><span class="pre">L</span></code>). If <code class="docutils literal notranslate"><span class="pre">x</span></code> is a member of <code class="docutils literal notranslate"><span class="pre">L</span></code>, then
we want the search algorithm to return <code class="docutils literal notranslate"><span class="pre">True</span></code>, optionally by returning
its index in <code class="docutils literal notranslate"><span class="pre">L</span></code>. If <code class="docutils literal notranslate"><span class="pre">x</span></code> is not a member of <code class="docutils literal notranslate"><span class="pre">L</span></code>, we expect the
algorithm to return <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Consider the example list below:</p>
<div class="math notranslate nohighlight" id="equation-chapters-ch6-functions-6">
<span class="eqno">(6.8.4)<a class="headerlink" href="#equation-chapters-ch6-functions-6" title="Permalink to this equation">¶</a></span>\[\begin{split}\begin{array}{|c|c|c|c|c|}
        \hline 109 &amp; -48 &amp; 25 &amp; 4 &amp; -13 \\ \hline
\end{array}\end{split}\]</div>
<p>If <code class="docutils literal notranslate"><span class="pre">x</span></code> is 4, the search algorithm should return <code class="docutils literal notranslate"><span class="pre">True</span></code>. If it is 5,
the answer should be <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<p>Let us start with the simplest algorithm we can use: Sequential Search.
In sequential search, we start with the beginning of the list, go over
each item in the list and check if the query is equal to any item that
we go over. Here is the algorithm:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Algorithm</span><span class="p">:</span> <span class="n">Sequential</span> <span class="n">Search</span> <span class="k">with</span> <span class="n">While</span> <span class="n">Iterations</span>
<span class="o">----------------------------</span>
<span class="n">Input</span><span class="p">:</span> <span class="n">x</span> <span class="o">--</span> <span class="n">the</span> <span class="n">query</span> <span class="n">number</span>
       <span class="n">L</span> <span class="o">--</span> <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">numbers</span>
<span class="n">Output</span><span class="p">:</span> <span class="kc">True</span> <span class="p">(</span><span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">L</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">False</span> <span class="p">(</span><span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">L</span><span class="p">)</span>
<span class="o">----------------------------</span>
<span class="n">Step</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">variable</span> <span class="n">named</span> <span class="n">Index</span> <span class="k">with</span> <span class="n">initial</span> <span class="n">value</span> <span class="mi">0</span>
<span class="n">Step</span> <span class="mi">2</span><span class="p">:</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">variable</span> <span class="n">named</span> <span class="n">N</span> <span class="k">with</span> <span class="n">value</span> <span class="n">length</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="n">Step</span> <span class="mi">3</span><span class="p">:</span> <span class="n">While</span> <span class="n">Index</span> <span class="o">&lt;</span> <span class="n">N</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">,</span> <span class="n">execute</span> <span class="n">Steps</span> <span class="mi">3</span> <span class="ow">and</span> <span class="mi">4</span><span class="p">:</span>
<span class="n">Step</span> <span class="mi">4</span><span class="p">:</span>    <span class="n">If</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">equal</span> <span class="n">to</span> <span class="n">L</span><span class="p">[</span><span class="n">Index</span><span class="p">],</span> <span class="n">then</span> <span class="k">return</span> <span class="kc">True</span> <span class="k">as</span> <span class="n">the</span> <span class="n">result</span>
<span class="n">Step</span> <span class="mi">5</span><span class="p">:</span>    <span class="n">Index</span> <span class="o">=</span> <span class="n">Index</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">Step</span> <span class="mi">6</span><span class="p">:</span> <span class="n">Return</span> <span class="kc">False</span> <span class="k">as</span> <span class="n">the</span> <span class="n">result</span>
</pre></div>
</div>
<p>Let us implement this simple algorithm in Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sequential Search with while statement</span>
<span class="k">def</span> <span class="nf">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">):</span>
  <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>                          <span class="c1"># Step 1</span>
  <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>                         <span class="c1"># Step 2</span>
  <span class="k">while</span> <span class="n">index</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">:</span>                   <span class="c1"># Step 3</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">L</span><span class="p">[</span><span class="n">index</span><span class="p">]:</span> <span class="k">return</span> <span class="kc">True</span>    <span class="c1"># Step 4</span>
    <span class="n">index</span> <span class="o">=</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span>                <span class="c1"># Step 5</span>
  <span class="k">return</span> <span class="kc">False</span>                       <span class="c1"># Step 6</span>


<span class="c1"># Now let us test the function with examples:</span>
<span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">109</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">4</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;seq_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;seq_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">L</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;seq_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">seq_search</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">109</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">]):</span>  <span class="kc">True</span>
<span class="n">seq_search</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">109</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">]):</span>  <span class="kc">False</span>
<span class="n">seq_search</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[]):</span>  <span class="kc">False</span>
</pre></div>
</div>
<p>That looks nice. However, we can have a more compact solution using
<code class="docutils literal notranslate"><span class="pre">for</span></code> loops:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sequential Search with for statement</span>
<span class="k">def</span> <span class="nf">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">):</span>
  <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">L</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
  <span class="k">return</span> <span class="kc">False</span>

<span class="c1"># Now let us test the function with examples:</span>
<span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">109</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">4</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;seq_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;seq_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">L</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;seq_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">seq_search</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">109</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">]):</span>  <span class="kc">True</span>
<span class="n">seq_search</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">109</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">]):</span>  <span class="kc">False</span>
<span class="n">seq_search</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[]):</span>  <span class="kc">False</span>
</pre></div>
</div>
<p>That’s the beauty of Python. These two are iterative solutions. Let us
have a look at a recursive solution. First, let us have a look at the
algorithm. The idea is essentially the same: We compare with the first
item and return <code class="docutils literal notranslate"><span class="pre">True</span></code> if they match. Otherwise, we continue our
search with the remaining items.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Algorithm</span><span class="p">:</span> <span class="n">Sequential</span> <span class="n">Search</span> <span class="k">with</span> <span class="n">Recursion</span>
<span class="o">----------------------------</span>
<span class="n">Input</span><span class="p">:</span> <span class="n">x</span> <span class="o">--</span> <span class="n">the</span> <span class="n">query</span> <span class="n">number</span>
       <span class="n">L</span> <span class="o">--</span> <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">numbers</span>
<span class="n">Output</span><span class="p">:</span> <span class="kc">True</span> <span class="p">(</span><span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">L</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">False</span> <span class="p">(</span><span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">L</span><span class="p">)</span>
<span class="o">----------------------------</span>
<span class="n">Step</span> <span class="mi">1</span><span class="p">:</span> <span class="n">If</span> <span class="n">L</span> <span class="ow">is</span> <span class="n">empty</span><span class="p">,</span> <span class="k">return</span> <span class="kc">False</span>
<span class="n">Step</span> <span class="mi">2</span><span class="p">:</span> <span class="n">If</span> <span class="n">x</span> <span class="ow">is</span> <span class="n">equal</span> <span class="n">to</span> <span class="n">the</span> <span class="n">first</span> <span class="n">item</span> <span class="n">of</span> <span class="n">L</span> <span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="k">return</span> <span class="kc">True</span>
<span class="n">Step</span> <span class="mi">3</span><span class="p">:</span> <span class="n">Make</span> <span class="n">a</span> <span class="n">recursive</span> <span class="n">call</span> <span class="n">on</span> <span class="n">L</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="n">N</span><span class="p">],</span> <span class="ow">and</span> <span class="k">return</span> <span class="n">its</span> <span class="n">answer</span>
</pre></div>
</div>
<p>And here is the implementation in Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sequential Search with recursion</span>
<span class="k">def</span> <span class="nf">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">):</span>
  <span class="k">if</span> <span class="n">L</span> <span class="o">==</span> <span class="p">[]:</span> <span class="k">return</span> <span class="kc">False</span>      <span class="c1"># Step 1: We have exhausted the list, x was not found</span>
  <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="k">return</span> <span class="kc">True</span>     <span class="c1"># Step 2: x was at the beginning of the list, yay!</span>
  <span class="k">return</span> <span class="n">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>   <span class="c1"># Step 3: Search in the remaining items since x != L[0]</span>

<span class="c1"># Now let us test the function with examples:</span>
<span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">109</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">4</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;seq_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;seq_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">L</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;seq_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">seq_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">seq_search</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mi">109</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">]):</span>  <span class="kc">True</span>
<span class="n">seq_search</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">109</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">]):</span>  <span class="kc">False</span>
<span class="n">seq_search</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[]):</span>  <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Exercise</strong></p>
<p>Write down the pseudocode for the Python function <code class="docutils literal notranslate"><span class="pre">seq_search</span></code> with
<code class="docutils literal notranslate"><span class="pre">for</span></code> statement.</p>
<p><strong>Exercise</strong></p>
<p>Extend the <em>recursive</em> implementation of <code class="docutils literal notranslate"><span class="pre">seq_search</span></code> to search for an
item <code class="docutils literal notranslate"><span class="pre">x</span></code> in a list <code class="docutils literal notranslate"><span class="pre">L</span></code> in cases where <code class="docutils literal notranslate"><span class="pre">L</span></code> can be nested. In other
words, the extended search algorithm shoud return <code class="docutils literal notranslate"><span class="pre">True</span></code> for:</p>
<p><code class="docutils literal notranslate"><span class="pre">seq_search_nested(5,</span> <span class="pre">[10,</span> <span class="pre">[4,</span> <span class="pre">[5]],</span> <span class="pre">-84,</span> <span class="pre">[3]])</span></code></p>
<p>and <code class="docutils literal notranslate"><span class="pre">False</span></code> for:</p>
<p><code class="docutils literal notranslate"><span class="pre">seq_search_nested(8,</span> <span class="pre">[10,</span> <span class="pre">[4,</span> <span class="pre">[5]],</span> <span class="pre">-84,</span> <span class="pre">[3]])</span></code></p>
<p><strong>Example 4: Binary Search</strong></p>
<p>If the list of items (numbers in our case) is not sorted, sequential
search is the only option for searching for an item. If, however, the
numbers are sorted (in an increasing or decreasing order), then we have
a much more efficient algorithm called binary search.</p>
<p>Assuming that <code class="docutils literal notranslate"><span class="pre">L</span></code>, our list of numbers, is sorted in an increasing
order: In binary search, we make our first comparison with the number
that is at the center (middle) of the list. If the middle number is
equal to <code class="docutils literal notranslate"><span class="pre">x</span></code>, then we obviously return <code class="docutils literal notranslate"><span class="pre">True</span></code>. Otherwise, we compare
<code class="docutils literal notranslate"><span class="pre">x</span></code> with the middle number: If <code class="docutils literal notranslate"><span class="pre">x</span></code> is smaller, then it has to be to
the left of the middle number – we can continue our search on the left
part of L. If, on the other hand, <code class="docutils literal notranslate"><span class="pre">x</span></code> is larger than the middle
number, it has to be on the right side of the middle number – we can
continue our search on the right part of L. This is illustrated in the
following figure.</p>
<div class="figure align-default" id="id2">
<a class="reference internal image-reference" href="../_images/ch6_bin_search.png"><img alt="../_images/ch6_bin_search.png" src="../_images/ch6_bin_search.png" style="width: 550px;" /></a>
<p class="caption"><span class="caption-number">Fig. 6.8.2 </span><span class="caption-text">Binary search algorithm.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>Here is the pseudocode that describes this algorithm:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Algorithm</span><span class="p">:</span> <span class="n">Binary</span> <span class="n">Search</span> <span class="k">with</span> <span class="n">Recursion</span>
<span class="o">----------------------------</span>
<span class="n">Input</span><span class="p">:</span> <span class="n">x</span> <span class="o">--</span> <span class="n">the</span> <span class="n">query</span> <span class="n">number</span>
       <span class="n">L</span> <span class="o">--</span> <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">numbers</span>
<span class="n">Output</span><span class="p">:</span> <span class="kc">True</span> <span class="p">(</span><span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">L</span><span class="p">)</span> <span class="ow">or</span> <span class="kc">False</span> <span class="p">(</span><span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">L</span><span class="p">)</span>
<span class="o">----------------------------</span>
<span class="n">Step</span> <span class="mi">1</span><span class="p">:</span> <span class="n">If</span> <span class="n">length</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="ow">is</span> <span class="n">zero</span> <span class="n">then</span> <span class="k">return</span> <span class="kc">False</span> <span class="n">since</span> <span class="n">the</span> <span class="nb">list</span> <span class="ow">is</span> <span class="n">empty</span>
<span class="n">Step</span> <span class="mi">2</span><span class="p">:</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">variable</span> <span class="n">Mid_index</span> <span class="k">with</span> <span class="n">value</span> <span class="n">length</span><span class="p">(</span><span class="n">L</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="n">Step</span> <span class="mi">3</span><span class="p">:</span> <span class="n">If</span> <span class="n">length</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="ow">is</span> <span class="mi">1</span> <span class="n">then</span> <span class="k">return</span> <span class="kc">False</span> <span class="n">since</span> <span class="n">the</span> <span class="n">only</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">L</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">equal</span> <span class="n">to</span> <span class="n">x</span>
<span class="n">Step</span> <span class="mi">4</span><span class="p">:</span> <span class="n">If</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">L</span><span class="p">[</span><span class="n">Mid_index</span><span class="p">]</span> <span class="n">then</span> <span class="n">make</span> <span class="n">recursive</span> <span class="n">call</span> <span class="k">with</span> <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">Mid_index</span><span class="p">]</span> <span class="ow">and</span> <span class="k">return</span> <span class="n">its</span> <span class="n">answer</span>
<span class="n">Step</span> <span class="mi">5</span><span class="p">:</span> <span class="n">Otherwise</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">L</span><span class="p">[</span><span class="n">Mid_index</span><span class="p">])</span> <span class="n">then</span> <span class="n">make</span> <span class="n">a</span> <span class="n">recursive</span> <span class="n">call</span> <span class="k">with</span> <span class="n">L</span><span class="p">[</span><span class="n">Mid_index</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span> <span class="ow">and</span> <span class="k">return</span> <span class="n">its</span> <span class="n">answer</span>
</pre></div>
</div>
<p>The following is the implementation in Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Binary search with recursion</span>
<span class="k">def</span> <span class="nf">bin_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">):</span>
  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="kc">False</span>                                <span class="c1"># Step 1: Terminating condition</span>
  <span class="n">Mid_index</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>                                     <span class="c1"># Step 2: Uses integer division</span>
  <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">L</span><span class="p">[</span><span class="n">Mid_index</span><span class="p">]:</span> <span class="k">return</span> <span class="kc">True</span>                           <span class="c1"># Step 3</span>
  <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">L</span><span class="p">[</span><span class="n">Mid_index</span><span class="p">]:</span> <span class="k">return</span> <span class="n">bin_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">Mid_index</span><span class="p">])</span>   <span class="c1"># Step 4</span>
  <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="n">L</span><span class="p">[</span><span class="n">Mid_index</span><span class="p">]:</span> <span class="k">return</span> <span class="n">bin_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">[</span><span class="n">Mid_index</span><span class="o">+</span><span class="mi">1</span><span class="p">:])</span>  <span class="c1"># Step 5: Can drop if statement</span>

<span class="c1"># Now let us test the function with examples:</span>
<span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">109</span><span class="p">]</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">4</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;bin_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">bin_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;bin_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">bin_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">L</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;bin_search(</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">bin_search</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">L</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bin_search</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">109</span><span class="p">]):</span>  <span class="kc">True</span>
<span class="n">bin_search</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">109</span><span class="p">]):</span>  <span class="kc">False</span>
<span class="n">bin_search</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[]):</span>  <span class="kc">False</span>
</pre></div>
</div>
<p><strong>Exercise</strong></p>
<p>Implement binary search using while statements.</p>
<p><strong>Exercise</strong></p>
<p>Identify the complexity of sequential search and binary search in the
following cases:</p>
<ul class="simple">
<li><p>Best case: When the item that we are making our first comparison with
is the one we were looking for.</p></li>
<li><p>Worst case: The item we are looking for is the last item with which
we performed the comparison.</p></li>
<li><p>Average case.</p></li>
</ul>
<p><strong>Example 5: Sorting</strong></p>
<p>Sorting pertains to ordering a list of items (<span class="math notranslate nohighlight">\(L\)</span>) so that each
item in <span class="math notranslate nohighlight">\(L\)</span> satisfies the following constraint:</p>
<div class="math notranslate nohighlight" id="equation-chapters-ch6-functions-7">
<span class="eqno">(6.8.5)<a class="headerlink" href="#equation-chapters-ch6-functions-7" title="Permalink to this equation">¶</a></span>\[L_i &lt; L_{i+1},\]</div>
<p>which leads to an ascending (increasing) order of items in <span class="math notranslate nohighlight">\(L\)</span> and
this is called <em>ascending sort</em>. If the order of the constraint is
changed to <span class="math notranslate nohighlight">\(L_i &gt; L_{i+1}\)</span>, the outcome is a descending
(decreasing) order of items in <span class="math notranslate nohighlight">\(L\)</span> and this is called <em>descending
sort</em>.</p>
<p>An algorithm that can perform ascending sort can easily be changed to
descending sort; therefore, we will just focus on one of them, namely,
ascending sort. Moreover, we will focus on sorting a list of numbers;
however, the same algorithms can be applied on other data types as long
as an ordering constraint (<code class="docutils literal notranslate"><span class="pre">&lt;</span></code> or <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>) can be defined.</p>
<p><strong>Bubble Sort</strong></p>
<p>Let us have a look at a very simple though inefficient sorting
algorithm, called <em>Bubble Sort</em>. In Bubble Sort, we start from the
beginning of the list and check whether the constraint
<span class="math notranslate nohighlight">\(L_i &lt; L_{i+1}\)</span> is violated for an <span class="math notranslate nohighlight">\(i\)</span> value. If it is, we
swap <span class="math notranslate nohighlight">\(L_i\)</span> with <span class="math notranslate nohighlight">\(L_{i+1}\)</span>. When we hit the end of the list,
we start from the beginning of the list again and continue checking the
constraint <span class="math notranslate nohighlight">\(L_i &lt; L_{i+1}\)</span>. Once at the end of the list, we again
go back to the beginning and continue checking the constraint for each
<span class="math notranslate nohighlight">\(i\)</span>. This continues until no <span class="math notranslate nohighlight">\(i\)</span> value violates the
constraint <span class="math notranslate nohighlight">\(L_i &lt; L_{i+1}\)</span>, which means that the numbers are
sorted.</p>
<p>Therefore, in Bubble Sort, we have two loops, one outer loop that
continues until all numbers are sorted and an inner loop that goes
through the list and checks the constraint. Here is a pseudo-code for
this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Algorithm</span><span class="p">:</span> <span class="n">Bubble</span> <span class="n">Sort</span>
<span class="o">----------------------------</span>
<span class="n">Input</span><span class="p">:</span> <span class="n">L</span> <span class="o">--</span> <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">numbers</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">sorted</span><span class="p">)</span>
<span class="n">Output</span><span class="p">:</span> <span class="n">L</span> <span class="o">--</span> <span class="n">the</span> <span class="nb">sorted</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">numbers</span> <span class="p">(</span><span class="n">ascending</span> <span class="n">order</span><span class="p">)</span>
<span class="o">----------------------------</span>
<span class="n">Step</span> <span class="mi">1</span><span class="p">:</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">varible</span> <span class="n">Is_sorted</span> <span class="k">with</span> <span class="n">value</span> <span class="kc">False</span>
<span class="n">Step</span> <span class="mi">2</span><span class="p">:</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">variable</span> <span class="n">N</span> <span class="k">with</span> <span class="n">value</span> <span class="n">length</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="n">Step</span> <span class="mi">3</span><span class="p">:</span> <span class="n">Create</span> <span class="n">a</span> <span class="n">variable</span> <span class="n">Index</span>
<span class="n">Step</span> <span class="mi">4</span><span class="p">:</span> <span class="n">While</span> <span class="n">Is_sorted</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">,</span> <span class="n">repeat</span> <span class="n">Steps</span> <span class="mi">5</span><span class="o">-</span><span class="mi">11</span><span class="p">:</span>
<span class="n">Step</span> <span class="mi">5</span><span class="p">:</span>     <span class="n">Set</span> <span class="n">Is_sorted</span> <span class="n">to</span> <span class="kc">True</span>
<span class="n">Step</span> <span class="mi">6</span><span class="p">:</span>     <span class="n">Set</span> <span class="n">Index</span> <span class="n">to</span> <span class="n">zero</span>
<span class="n">Step</span> <span class="mi">7</span><span class="p">:</span>     <span class="n">While</span> <span class="n">Index</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">repeat</span> <span class="n">Steps</span> <span class="mi">8</span><span class="o">-</span><span class="mi">11</span>
<span class="n">Step</span> <span class="mi">8</span><span class="p">:</span>         <span class="n">If</span> <span class="n">L</span><span class="p">[</span><span class="n">Index</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">L</span><span class="p">[</span><span class="n">Index</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">then</span> <span class="n">execute</span> <span class="n">Steps</span> <span class="mi">9</span> <span class="o">&amp;</span> <span class="mi">10</span><span class="p">:</span>
<span class="n">Step</span> <span class="mi">9</span><span class="p">:</span>              <span class="n">Swap</span> <span class="n">L</span><span class="p">[</span><span class="n">Index</span><span class="p">]</span> <span class="ow">and</span> <span class="n">L</span><span class="p">[</span><span class="n">Index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
<span class="n">Step</span> <span class="mi">10</span><span class="p">:</span>             <span class="n">Set</span> <span class="n">Is_sorted</span> <span class="n">to</span> <span class="kc">False</span>
<span class="n">Step</span> <span class="mi">11</span><span class="p">:</span>        <span class="n">Index</span> <span class="o">=</span> <span class="n">Index</span> <span class="o">+</span> <span class="mi">1</span>
<span class="n">Step</span> <span class="mi">12</span><span class="p">:</span> <span class="k">return</span> <span class="n">L</span>
</pre></div>
</div>
<p>One outer iteration of the algorithm is illustrated on a small list of
numbers below:</p>
<div class="figure align-default" id="id3">
<a class="reference internal image-reference" href="../_images/ch6_bubble_sort.png"><img alt="../_images/ch6_bubble_sort.png" src="../_images/ch6_bubble_sort.png" style="width: 550px;" /></a>
<p class="caption"><span class="caption-number">Fig. 6.8.3 </span><span class="caption-text">One outer iteration of the Bubble Sort algorithm.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>With one outer iteration, the list appears to be one step closer to a
sorted list. In the example above, the largest number has found its
correct place after one outer iteration. With a second one, the second
largest number will find its place. With a third iteration, the third
largest number will find its place etc.</p>
<p>And here is the implementation in Python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Bubble Sort</span>

<span class="k">def</span> <span class="nf">bubble_sort</span><span class="p">(</span><span class="n">L</span><span class="p">):</span>
  <span class="n">Is_sorted</span> <span class="o">=</span> <span class="kc">False</span>                                       <span class="c1"># Step 1</span>
  <span class="n">N</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>                                              <span class="c1"># Step 2</span>
  <span class="n">Index</span> <span class="o">=</span> <span class="mi">0</span>                                               <span class="c1"># Step 3: Can be removed in Python</span>

  <span class="k">while</span> <span class="n">Is_sorted</span> <span class="ow">is</span> <span class="kc">False</span><span class="p">:</span>                               <span class="c1"># Step 4</span>
    <span class="n">Is_sorted</span> <span class="o">=</span> <span class="kc">True</span>                                      <span class="c1"># Step 5</span>
    <span class="n">Index</span> <span class="o">=</span> <span class="mi">0</span>                                             <span class="c1"># Step 6</span>
    <span class="k">while</span> <span class="n">Index</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>                                  <span class="c1"># Step 7</span>
      <span class="k">if</span> <span class="n">L</span><span class="p">[</span><span class="n">Index</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">L</span><span class="p">[</span><span class="n">Index</span><span class="o">+</span><span class="mi">1</span><span class="p">]:</span>                           <span class="c1"># Step 8</span>
        <span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="n">Index</span><span class="p">],</span> <span class="n">L</span><span class="p">[</span><span class="n">Index</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span> <span class="o">=</span> <span class="p">(</span><span class="n">L</span><span class="p">[</span><span class="n">Index</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">L</span><span class="p">[</span><span class="n">Index</span><span class="p">])</span>   <span class="c1"># Step 9</span>
        <span class="n">Is_sorted</span> <span class="o">=</span> <span class="kc">False</span>                                 <span class="c1"># Step 10</span>
      <span class="n">Index</span> <span class="o">=</span> <span class="n">Index</span> <span class="o">+</span> <span class="mi">1</span>                                   <span class="c1"># Step 11</span>
  <span class="k">return</span> <span class="n">L</span>                                                <span class="c1"># Step 12</span>

<span class="c1"># Let us test our implementation with some sample lists</span>
<span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="mi">109</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;bubble_sort(</span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">bubble_sort</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>

<span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">109</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;bubble_sort(</span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">bubble_sort</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>

<span class="n">L</span> <span class="o">=</span> <span class="p">[]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;bubble_sort(</span><span class="si">{</span><span class="n">L</span><span class="si">}</span><span class="s2">): &quot;</span><span class="p">,</span> <span class="n">bubble_sort</span><span class="p">(</span><span class="n">L</span><span class="p">))</span>
</pre></div>
</div>
<div class="output highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bubble_sort</span><span class="p">([</span><span class="mi">109</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="mi">25</span><span class="p">]):</span>  <span class="p">[</span><span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">109</span><span class="p">]</span>
<span class="n">bubble_sort</span><span class="p">([</span><span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">109</span><span class="p">]):</span>  <span class="p">[</span><span class="o">-</span><span class="mi">48</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">109</span><span class="p">]</span>
<span class="n">bubble_sort</span><span class="p">([]):</span>  <span class="p">[]</span>
</pre></div>
</div>
</div>
<div class="section" id="programming-style">
<h2><span class="section-number">6.9. </span>Programming Style<a class="headerlink" href="#programming-style" title="Permalink to this headline">¶</a></h2>
<p>With the topics covered in this chapter, we started working with longer
and more elaborated Python codes. Up to now, we have introduced crucial
aspects that can be arranged differently among programmers:</p>
<ul class="simple">
<li><p>Naming variables and functions.</p></li>
<li><p>Indentation.</p></li>
<li><p>Function definition.</p></li>
<li><p>Commenting.</p></li>
</ul>
<p>Longing for brevity and readability, the creators of Python have defined
some guidelines of style for those interested: <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">Python Style
Guide</a>.</p>
<p>There are alternative styles and we strongly recommend you to choose one
and stick to it as a programming style.</p>
</div>
<div class="section" id="important-concepts">
<h2><span class="section-number">6.10. </span>Important Concepts<a class="headerlink" href="#important-concepts" title="Permalink to this headline">¶</a></h2>
<p>We would like our readers to have grasped the following crucial concepts
and keywords from this chapter (all related to Python):</p>
<ul class="simple">
<li><p>Defining functions.</p></li>
<li><p>Function parameters and how to pass values to functions.</p></li>
<li><p>Default parameters.</p></li>
<li><p>Scopes of variables.</p></li>
<li><p>Local, enclosing, global and built-in scopes.</p></li>
<li><p>Higher-order functions.</p></li>
<li><p>Differences of functions between programming and Mathematics.</p></li>
<li><p>Recursion.</p></li>
</ul>
</div>
<div class="section" id="further-reading">
<h2><span class="section-number">6.11. </span>Further Reading<a class="headerlink" href="#further-reading" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Functional tools of Python:
<a class="reference external" href="https://docs.python.org/3/howto/functional.html">https://docs.python.org/3/howto/functional.html</a></p></li>
<li><p>A more comprehensive coverage on recursion:
<a class="reference external" href="https://link.springer.com/chapter/10.1007/978-3-7091-1343-1_4">https://link.springer.com/chapter/10.1007/978-3-7091-1343-1_4</a></p></li>
<li><p>Python style guide: <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a></p></li>
</ul>
</div>
<div class="section" id="exercises">
<h2><span class="section-number">6.12. </span>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Write a Python function named <code class="docutils literal notranslate"><span class="pre">only_numbers()</span></code> that removes items
in a list that are not numbers. E.g.
<code class="docutils literal notranslate"><span class="pre">only_numbers([10,</span> <span class="pre">&quot;ali&quot;,</span> <span class="pre">[20],</span> <span class="pre">True,</span> <span class="pre">4])</span></code> should return
<code class="docutils literal notranslate"><span class="pre">[10,</span> <span class="pre">4]</span></code>. Implement two versions: One using iteration and another
using recursion.</p></li>
<li><p>Write a Python function named <code class="docutils literal notranslate"><span class="pre">flatten()</span></code> that removes nesting in a
nested list and lists all elements in a single non-nested list. E.g.
<code class="docutils literal notranslate"><span class="pre">flatten([1,</span> <span class="pre">[4,</span> <span class="pre">5,</span> <span class="pre">[6]],</span> <span class="pre">[[&quot;test&quot;]]])</span></code> should return
<code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">4,</span> <span class="pre">5,</span> <span class="pre">6,</span> <span class="pre">&quot;test&quot;]</span></code>.</p></li>
<li><p>Write a Python function named <code class="docutils literal notranslate"><span class="pre">reverse()</span></code> that reverses the order
of elements in a list. E.g. <code class="docutils literal notranslate"><span class="pre">reverse([10,</span> <span class="pre">5,</span> <span class="pre">0])</span></code> should return
<code class="docutils literal notranslate"><span class="pre">[0,</span> <span class="pre">5,</span> <span class="pre">10]</span></code>. Implement two versions: One using iteration and
another using recursion.</p></li>
<li><p>Write a Python function named <code class="docutils literal notranslate"><span class="pre">greatest_divisor()</span></code> that finds the
greatest divisor of an integer. The greatest divisor of an integer
<span class="math notranslate nohighlight">\(n\)</span> is an integer <span class="math notranslate nohighlight">\(x &lt; n\)</span> that satisfies
<span class="math notranslate nohighlight">\(n = k \cdot x\)</span> for some integer <span class="math notranslate nohighlight">\(k\)</span>. E.g.
<code class="docutils literal notranslate"><span class="pre">greatest_divisor(12)</span></code> should return <code class="docutils literal notranslate"><span class="pre">6</span></code>.</p></li>
</ul>
</div>
</div>


        </div>
        <div class="side-doc-outline">
            <div class="side-doc-outline--content"> 
<div class="localtoc">
    <p class="caption">
      <span class="caption-text">Table Of Contents</span>
    </p>
    <ul>
<li><a class="reference internal" href="#">6. Functions</a><ul>
<li><a class="reference internal" href="#why-define-functions">6.1. Why define functions?</a></li>
<li><a class="reference internal" href="#defining-functions">6.2. Defining functions</a></li>
<li><a class="reference internal" href="#passing-parameters-to-functions">6.3. Passing parameters to functions</a><ul>
<li><a class="reference internal" href="#default-parameters">6.3.1. Default Parameters</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scope-of-variables">6.4. Scope of variables</a></li>
<li><a class="reference internal" href="#higher-order-functions">6.5. Higher-order functions</a></li>
<li><a class="reference internal" href="#functions-in-programming-vs-functions-in-mathematics">6.6. Functions in programming vs. functions in Mathematics</a></li>
<li><a class="reference internal" href="#recursion">6.7. Recursion</a></li>
<li><a class="reference internal" href="#function-examples">6.8. Function Examples</a></li>
<li><a class="reference internal" href="#programming-style">6.9. Programming Style</a></li>
<li><a class="reference internal" href="#important-concepts">6.10. Important Concepts</a></li>
<li><a class="reference internal" href="#further-reading">6.11. Further Reading</a></li>
<li><a class="reference internal" href="#exercises">6.12. Exercises</a></li>
</ul>
</li>
</ul>

</div>
            </div>
        </div>

      <div class="clearer"></div>
    </div><div class="pagenation">
     <a id="button-prev" href="ch5_conditional_and_repetitive.html" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" role="botton" accesskey="P">
         <i class="pagenation-arrow-L fas fa-arrow-left fa-lg"></i>
         <div class="pagenation-text">
            <span class="pagenation-direction">Previous</span>
            <div>5. Conditional and Repetitive Execution</div>
         </div>
     </a>
     <a id="button-next" href="ch7_OOP.html" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--colored" role="botton" accesskey="N">
         <i class="pagenation-arrow-R fas fa-arrow-right fa-lg"></i>
        <div class="pagenation-text">
            <span class="pagenation-direction">Next</span>
            <div>7. A Gentle Introduction to Object-Oriented Programming</div>
        </div>
     </a>
  </div>
        
        </main>
    </div>
  </body>
</html>